var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("bUb57");var a,o=i("edYM8"),s=i("gWoIc");s=i("gWoIc"),s=i("gWoIc");a=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}');o=i("edYM8");function r(e){const{title:t,genre_ids:n,release_date:i,poster_path:s,id:r}=e;let l="";void 0!==i&&i.length>4&&(l=i.slice(0,4));const d=function(e){let t=a.genres.reduce((t,{id:n,name:i})=>(e.includes(n)&&t.push(i),t),[]);t.length>3&&(t=t.slice(0,2),t.push("Other"));return t}(n).join(", ");return null===s?`<li>\n            <a class="gallery__link" href="#">\n              <img class="gallery__image" data-id="${r}" src="https://dummyimage.com/395x574/000/fff.jpg&text=no+poster" alt="${t} movie poster" loading="lazy">\n            \n            <div class="info">\n              <p class="info__item">${t}</p>\n              <div class="info-detail">\n                <p class="info-detail__item">${d}</p>\n                <p class="info-detail__item">${l}</p>\n              </div>\n            </div>\n            </a>\n          </li>`:`<li>\n            <a class="gallery__link" href="#">\n              <img class="gallery__image" data-id="${r}" src="${o.BASE_IMG_URL}${s}" alt="${t} movie poster" loading="lazy">\n            \n            <div class="info">\n              <h3 class="info__item">${t}</h3>\n              <div class="info-detail">\n                <p class="info-detail__item">${d}</p>\n                <p class="info-detail__item">${l}</p>\n              </div>\n            </div>\n            </a>\n          </li>`}o=i("edYM8");var l=i("gjiCh");const d=document.querySelector(".gallery");function c(e){if(!e||!Array.isArray(e))return void console.warn("Invalid movies data provided to renderMovieCards");const t=e.map(e=>r(e)).join("");d?d.innerHTML=t:console.warn("Gallery element not found")}(0,l.startLoader)(),(async()=>{try{const e=await(0,s.getMovies)(`${o.TREND_DAY_URL}&page=1&per_page=9`);e&&e.results?(await c(e.results),localStorage.setItem("LAST_REQUESTED_URL",`${o.TREND_DAY_URL}&page=1&per_page=9`),p(e.page,e.total_pages)):console.warn("No movie data received from API")}catch(e){console.error("Error loading trending movies:",e)}finally{(0,l.stopLoader)()}})();var u=i("74Aiq");l=i("gjiCh");const m=document.querySelector(".pagination-wrap");function p(e,t){let n=[];e>1&&n.push(h(e-1,!0,"arrow-left")),e>=4&&n.push(h(1,!0,"first-button")),e>=5&&n.push(g()),e>=2&&(e>=3&&n.push(h(e-2)),n.push(h(e-1))),n.push(h(e,!1)),e<=t-1&&(n.push(h(e+1)),e<=t-2&&n.push(h(e+2))),e<t-3&&n.push(g()),e<=t-3&&n.push(h(t,!0,"last-button")),e<t&&n.push(h(e+1,!0,"arrow-right")),m.innerHTML="",n.forEach(e=>m.append(e))}function g(){const e=document.createElement("span");return e.innerHTML='<span class="dots">...</span>',e}function h(e,t=!0,n=null){const i=function(){const e=document.createElement("button");return e.classList.add("pagination-button"),e}();return i.dataset.page=e,i.textContent=n&&n.includes("arrow")?"":e,n&&i.classList.add(n),t?i.addEventListener("click",f):i.classList.add("pagination-button--current"),i}async function f(e){const t=e.target.dataset.page,n=`${localStorage.getItem("LAST_REQUESTED_URL")}&page=${t}`;(0,l.startLoader)(),(0,u.topFunction)();try{const e=await(0,s.getMovies)(n);e&&e.results&&(c(e.results),p(e.page,e.total_pages))}catch(e){console.error("Error fetching movies for pagination:",e)}finally{(0,l.stopLoader)()}}s=i("gWoIc"),o=i("edYM8"),l=i("gjiCh");var y=i("7tzR7");const v={btnToday:document.querySelector('button[data-group="today"]'),filterBg:document.querySelector(".background__filter"),btnWeek:document.querySelector('button[data-group="week"]'),gallery:document.querySelector(".gallery"),form:document.querySelector(".header__form"),filter:document.querySelector(".filter"),toTrendingBtn:document.querySelector(".to-trending__button"),failSearchText:document.querySelector(".not-succesful-search-text")},{btnToday:L,filterBg:_,btnWeek:E,gallery:S,form:T,filter:w,toTrendingBtn:b,failSearchText:R}=v;let $=L.parentNode.parentNode,M=E.parentNode.parentNode,q=1;function A(e){(0,s.getMovies)(e).then(e=>{e&&e.results&&c(e.results)}).catch(e=>{console.error("Error rendering movies:",e)})}async function U(){const e=document.querySelector(".pagination-button--current");q=e?e.dataset.page:1;const t=`${o.BASE_URL}/trending/movie/day?api_key=${o.API_KEY}`;(0,y.showSlider)(),w&&w.classList.remove("is-hidden"),b&&b.classList.add("is-hidden"),T&&T.reset(),M.classList.contains(".selected")||((0,l.startLoader)(),M.classList.remove(".selected"),$.classList.add(".selected"),_&&_.classList.remove("to-right"),localStorage.setItem("LAST_REQUESTED_URL",t),await A(t+`&page=${q}`),m&&m.classList.remove("visually-hidden"),R&&R.classList.add("visually-hidden"),setTimeout(()=>{(0,l.stopLoader)()},200))}function k(e,t,n){let i,a,o,s,r,l,d=0,c=!1,u=!1,m=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);function p(t){let n=i,o=a;return i=a=void 0,d=t,s=e.apply(o,n),s}function g(e){let n=e-l;return void 0===l||n>=t||n<0||u&&e-d>=o}function h(){const e=Date.now();if(g(e))return f(e);r=setTimeout(h,function(e){let n=t-(e-l);return u?nativeMin(n,o-(e-d)):n}(e))}function f(e){return r=void 0,m&&i?p(e):(i=a=void 0,s)}function y(){let e=Date.now(),n=g(e);if(i=arguments,a=this,l=e,n){if(void 0===r)return function(e){return d=e,r=setTimeout(h,t),c?p(e):s}(l);if(u)return r=setTimeout(h,t),p(l)}return void 0===r&&(r=setTimeout(h,t)),s}return t=Number(t)||0,"object"==typeof n&&(c=!!n.leading,u="maxWait"in n,o=u?nativeMax(Number(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m),y.cancel=function(){void 0!==r&&clearTimeout(r),d=0,i=l=a=r=void 0},y.flush=function(){return void 0===r?s:f(Date.now())},y}b&&b.addEventListener("click",U),L&&L.addEventListener("click",async()=>{const e=document.querySelector(".pagination-button--current");q=e?e.dataset.page:1;const t=`${o.BASE_URL}/trending/movie/day?api_key=${o.API_KEY}`;$.classList.contains(".selected")||((0,l.startLoader)(),$.classList.add(".selected"),M.classList.remove(".selected"),_&&_.classList.remove("to-right"),localStorage.setItem("LAST_REQUESTED_URL",t),await A(t+`&page=${q}`),setTimeout(()=>{(0,l.stopLoader)()},200))}),E&&E.addEventListener("click",async()=>{const e=document.querySelector(".pagination-button--current");q=e?e.dataset.page:1;const t=`${o.BASE_URL}/trending/movie/week?api_key=${o.API_KEY}`;M.classList.contains(".selected")||((0,l.startLoader)(),$.classList.remove(".selected"),M.classList.add(".selected"),_&&_.classList.add("to-right"),localStorage.setItem("LAST_REQUESTED_URL",t),await A(t+`&page=${q}`),setTimeout(()=>{(0,l.stopLoader)()},200))});l=i("gjiCh"),y=i("7tzR7");const x={form:document.querySelector(".header__form"),input:document.querySelector(".header__form-input"),gallery:document.querySelector(".gallery"),loader:document.querySelector(".backdrop-loader"),failSearchText:document.querySelector(".not-succesful-search-text")};function D(e){const t=`${o.SEARCH_URL}&query=${e}`;return localStorage.setItem("LAST_REQUESTED_URL",t),(0,s.getMovies)(t)}let I="";function C(){x.gallery&&(x.gallery.innerHTML="")}x.form&&x.form.addEventListener("submit",async function(e){if(e.preventDefault(),I=e.currentTarget.query.value.trim(),""!==I){m&&m.classList.add("visually-hidden"),setTimeout(()=>{e.target.reset()},700),w&&w.classList.add("is-hidden"),b&&b.classList.remove("is-hidden"),(0,y.hideSlider)(),C(),(0,l.startLoader)();try{const e=await D(I);if(!e||!e.total_results)return x.failSearchText&&x.failSearchText.classList.remove("visually-hidden"),void(0,l.stopLoader)();c(e.results),p(e.page,e.total_pages),m&&m.classList.remove("visually-hidden"),(0,l.stopLoader)()}catch(e){console.error("Error searching movies:",e),(0,l.stopLoader)()}}}),x.input&&x.input.addEventListener("input",k(async function(e){if(I=e.target.value.trim(),(0,y.hideSlider)(),""===I)return void U();m&&m.classList.add("visually-hidden");(0,l.startLoader)(),w&&w.classList.add("is-hidden");b&&b.classList.remove("is-hidden");x.failSearchText&&x.failSearchText.classList.add("visually-hidden");C();try{const e=await D(I);if(!e||!e.total_results)return m&&m.classList.add("visually-hidden"),x.failSearchText&&x.failSearchText.classList.remove("visually-hidden"),void(0,l.stopLoader)();c(e.results),p(e.page,e.total_pages),m&&m.classList.remove("visually-hidden"),(0,l.stopLoader)()}catch(e){console.error("Error searching movies:",e),(0,l.stopLoader)()}},700));const B=document.querySelector("[data-search-suggestions]");function N(e){if(B){if(!e.length)return B.style.display="none",void(B.innerHTML="");B.innerHTML=e.slice(0,5).map(e=>`<li class="search-suggestion-item" data-id="${e.id}">${e.title||e.name}</li>`).join(""),B.style.display="block"}}x.input&&x.input.addEventListener("input",k(async e=>{const t=e.target.value.trim();if(!t)return N([]);N(await async function(e){if(!e)return[];try{const t=`${o.SEARCH_URL}&query=${encodeURIComponent(e)}`,n=await fetch(t);return n.ok&&(await n.json()).results||[]}catch{return[]}}(t))},300)),B&&B.addEventListener("mousedown",e=>{const t=e.target.closest("li");t&&(x.input.value=t.textContent,B.style.display="none",x.form&&x.form.dispatchEvent(new Event("submit",{bubbles:!0})))}),x.input&&x.input.addEventListener("blur",()=>{setTimeout(()=>{B&&(B.style.display="none")},150)}),i("7tzR7"),i("5I0Ww"),i("74Aiq"),i("lJ5oQ"),i("kThre"),i("37v9V");class H{constructor(){this.modal=document.getElementById("developer-modal"),this.trigger=document.querySelector(".developer-link"),this.closeBtn=document.querySelector(".developer-modal-close-btn"),this.init()}init(){this.modal&&this.trigger&&(this.trigger.addEventListener("click",e=>{e.preventDefault(),this.openModal()}),this.closeBtn&&this.closeBtn.addEventListener("click",()=>{this.closeModal()}),this.modal.addEventListener("click",e=>{e.target===this.modal&&this.closeModal()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.isOpen()&&this.closeModal()}))}openModal(){this.modal&&(this.modal.style.display="flex",this.modal.style.opacity="0",this.modal.offsetHeight,this.modal.classList.add("show"),this.modal.style.opacity="1",document.body.style.overflow="hidden",this.closeBtn?.focus())}closeModal(){this.modal&&(this.modal.classList.remove("show"),this.modal.style.opacity="0",setTimeout(()=>{this.modal.style.display="none",document.body.style.overflow=""},300))}isOpen(){return this.modal?.classList.contains("show")}}document.addEventListener("DOMContentLoaded",()=>{new H});
//# sourceMappingURL=index.5d96b898.js.map
