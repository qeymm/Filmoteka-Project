!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a("i8Q71");var r,i=a("iUA6h"),o=a("4g74k");o=a("4g74k"),o=a("4g74k");r=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}');i=a("iUA6h");function s(e){const{title:t,genre_ids:n,release_date:a,poster_path:o,id:s}=e;let l="";void 0!==a&&a.length>4&&(l=a.slice(0,4));const d=function(e){let t=r.genres.reduce((t,{id:n,name:a})=>(e.includes(n)&&t.push(a),t),[]);t.length>3&&(t=t.slice(0,2),t.push("Other"));return t}(n).join(", ");return null===o?`<li>\n            <a class="gallery__link" href="#">\n              <img class="gallery__image" data-id="${s}" src="https://dummyimage.com/395x574/000/fff.jpg&text=no+poster" alt="${t} movie poster" loading="lazy">\n            \n            <div class="info">\n              <p class="info__item">${t}</p>\n              <div class="info-detail">\n                <p class="info-detail__item">${d}</p>\n                <p class="info-detail__item">${l}</p>\n              </div>\n            </div>\n            </a>\n          </li>`:`<li>\n            <a class="gallery__link" href="#">\n              <img class="gallery__image" data-id="${s}" src="${i.BASE_IMG_URL}${o}" alt="${t} movie poster" loading="lazy">\n            \n            <div class="info">\n              <h3 class="info__item">${t}</h3>\n              <div class="info-detail">\n                <p class="info-detail__item">${d}</p>\n                <p class="info-detail__item">${l}</p>\n              </div>\n            </div>\n            </a>\n          </li>`}i=a("iUA6h");var l=a("kvC6y");const d=document.querySelector(".gallery");function c(e){if(!e||!Array.isArray(e))return void console.warn("Invalid movies data provided to renderMovieCards");const t=e.map(e=>s(e)).join("");d?d.innerHTML=t:console.warn("Gallery element not found")}function u(){const e=document.querySelector(".gallery");if(!e)return;e.insertAdjacentHTML("beforeEnd",'<li class="ad-card">\n            <a class="gallery__link ad-card-link" href="#">\n              <div class="gallery__image ad-card-content-wrapper">\n                <p class="ad-title">Here you can place your ad</p>\n                <div class="ad-content">\n                  <p class="ad-text">Sell your car</br>Cheap</p>\n                  <p class="ad-number">000-000-00-00</br>John Doe</p>\n                </div>\n              </div>\n            </a>\n          </li>')}function m(){if(!document.querySelector(".gallery"))return;9*Math.random()+1>=5?u():function(){const e=document.querySelector(".gallery");if(!e)return;e.insertAdjacentHTML("beforeEnd",'<li class="ad-card">\n            <a class="gallery__link ad-card-link" href="#">\n              <div class="gallery__image ad-card-content-wrapper">\n                <p class="ad-title">Here you can place your ad</p>\n                <div class="ad-content">\n                  <p class="ad-text">Sell your BMW X5</br>Not stolen</br>Not repainted</p>\n                  <p class="ad-number">000-000-00-00</br>John Doe</p>\n                </div>\n              </div>\n            </a>\n          </li>')}()}(0,l.startLoader)(),(async()=>{try{const e=await(0,o.getMovies)(i.TREND_DAY_URL);e&&e.results?(await c(e.results),u(),localStorage.setItem("LAST_REQUESTED_URL",i.TREND_DAY_URL),g(e.page,e.total_pages)):console.warn("No movie data received from API")}catch(e){console.error("Error loading trending movies:",e)}finally{(0,l.stopLoader)()}})();var p=a("23Ajj");l=a("kvC6y");const f=document.querySelector(".pagination-wrap");function g(e,t){let n=[];e>1&&n.push(v(e-1,!0,"arrow-left")),e>=4&&n.push(v(1,!0,"first-button")),e>=5&&n.push(y()),e>=2&&(e>=3&&n.push(v(e-2)),n.push(v(e-1))),n.push(v(e,!1)),e<=t-1&&(n.push(v(e+1)),e<=t-2&&n.push(v(e+2))),e<t-3&&n.push(y()),e<=t-3&&n.push(v(t,!0,"last-button")),e<t&&n.push(v(e+1,!0,"arrow-right")),f.innerHTML="",n.forEach(e=>f.append(e))}function y(){const e=document.createElement("span");return e.innerHTML='<span class="dots">...</span>',e}function v(e,t=!0,n=null){const a=function(){const e=document.createElement("button");return e.classList.add("pagination-button"),e}();return a.dataset.page=e,a.textContent=n&&n.includes("arrow")?"":e,n&&a.classList.add(n),t?a.addEventListener("click",h):a.classList.add("pagination-button--current"),a}async function h(e){const t=e.target.dataset.page,n=`${localStorage.getItem("LAST_REQUESTED_URL")}&page=${t}`;(0,l.startLoader)(),(0,p.topFunction)();try{const e=await(0,o.getMovies)(n);e&&e.results&&(c(e.results),m(),g(e.page,e.total_pages))}catch(e){console.error("Error fetching movies for pagination:",e)}finally{(0,l.stopLoader)()}}o=a("4g74k"),i=a("iUA6h"),l=a("kvC6y");var L=a("8Veln");const _={btnToday:document.querySelector('button[data-group="today"]'),filterBg:document.querySelector(".background__filter"),btnWeek:document.querySelector('button[data-group="week"]'),gallery:document.querySelector(".gallery"),form:document.querySelector(".header__form"),filter:document.querySelector(".filter"),toTrendingBtn:document.querySelector(".to-trending__button"),failSearchText:document.querySelector(".not-succesful-search-text")},{btnToday:S,filterBg:T,btnWeek:E,gallery:b,form:w,filter:A,toTrendingBtn:R,failSearchText:k}=_;let x=S.parentNode.parentNode,U=E.parentNode.parentNode,q=1;function $(e){(0,o.getMovies)(e).then(e=>{e&&e.results&&(c(e.results),m())}).catch(e=>{console.error("Error rendering movies:",e)})}async function D(){const e=document.querySelector(".pagination-button--current");q=e?e.dataset.page:1;const t=`${i.BASE_URL}/trending/movie/day?api_key=${i.API_KEY}`;(0,L.showSlider)(),A&&A.classList.remove("is-hidden"),R&&R.classList.add("is-hidden"),w&&w.reset(),U.classList.contains(".selected")||((0,l.startLoader)(),U.classList.remove(".selected"),x.classList.add(".selected"),T&&T.classList.remove("to-right"),localStorage.setItem("LAST_REQUESTED_URL",t),await $(t+`&page=${q}`),f&&f.classList.remove("visually-hidden"),k&&k.classList.add("visually-hidden"),setTimeout(()=>{(0,l.stopLoader)()},200))}R&&R.addEventListener("click",D),S&&S.addEventListener("click",async()=>{const e=document.querySelector(".pagination-button--current");q=e?e.dataset.page:1;const t=`${i.BASE_URL}/trending/movie/day?api_key=${i.API_KEY}`;x.classList.contains(".selected")||((0,l.startLoader)(),x.classList.add(".selected"),U.classList.remove(".selected"),T&&T.classList.remove("to-right"),localStorage.setItem("LAST_REQUESTED_URL",t),await $(t+`&page=${q}`),setTimeout(()=>{(0,l.stopLoader)()},200))}),E&&E.addEventListener("click",async()=>{const e=document.querySelector(".pagination-button--current");q=e?e.dataset.page:1;const t=`${i.BASE_URL}/trending/movie/week?api_key=${i.API_KEY}`;U.classList.contains(".selected")||((0,l.startLoader)(),x.classList.remove(".selected"),U.classList.add(".selected"),T&&T.classList.add("to-right"),localStorage.setItem("LAST_REQUESTED_URL",t),await $(t+`&page=${q}`),setTimeout(()=>{(0,l.stopLoader)()},200))});l=a("kvC6y"),L=a("8Veln");const M={form:document.querySelector(".header__form"),input:document.querySelector(".header__form-input"),gallery:document.querySelector(".gallery"),loader:document.querySelector(".backdrop-loader"),failSearchText:document.querySelector(".not-succesful-search-text")};function N(e){const t=`${i.SEARCH_URL}&query=${e}`;return localStorage.setItem("LAST_REQUESTED_URL",t),(0,o.getMovies)(t)}let C="";function I(){M.gallery&&(M.gallery.innerHTML="")}M.form&&M.form.addEventListener("submit",async function(e){if(e.preventDefault(),C=e.currentTarget.query.value.trim(),""!==C){f&&f.classList.add("visually-hidden"),setTimeout(()=>{e.target.reset()},700),A&&A.classList.add("is-hidden"),R&&R.classList.remove("is-hidden"),(0,L.hideSlider)(),I(),(0,l.startLoader)();try{const e=await N(C);if(!e||!e.total_results)return M.failSearchText&&M.failSearchText.classList.remove("visually-hidden"),void(0,l.stopLoader)();c(e.results),g(e.page,e.total_pages),f&&f.classList.remove("visually-hidden"),(0,l.stopLoader)()}catch(e){console.error("Error searching movies:",e),(0,l.stopLoader)()}}}),M.input&&M.input.addEventListener("input",function(e,t,n){let a,r,i,o,s,l,d=0,c=!1,u=!1,m=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);function p(t){let n=a,i=r;return a=r=void 0,d=t,o=e.apply(i,n),o}function f(e){let n=e-l;return void 0===l||n>=t||n<0||u&&e-d>=i}function g(){const e=Date.now();if(f(e))return y(e);s=setTimeout(g,function(e){let n=t-(e-l);return u?nativeMin(n,i-(e-d)):n}(e))}function y(e){return s=void 0,m&&a?p(e):(a=r=void 0,o)}function v(){let e=Date.now(),n=f(e);if(a=arguments,r=this,l=e,n){if(void 0===s)return function(e){return d=e,s=setTimeout(g,t),c?p(e):o}(l);if(u)return s=setTimeout(g,t),p(l)}return void 0===s&&(s=setTimeout(g,t)),o}return t=Number(t)||0,"object"==typeof n&&(c=!!n.leading,u="maxWait"in n,i=u?nativeMax(Number(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m),v.cancel=function(){void 0!==s&&clearTimeout(s),d=0,a=l=r=s=void 0},v.flush=function(){return void 0===s?o:y(Date.now())},v}(async function(e){if(C=e.target.value.trim(),(0,L.hideSlider)(),""===C)return void D();f&&f.classList.add("visually-hidden");(0,l.startLoader)(),A&&A.classList.add("is-hidden");R&&R.classList.remove("is-hidden");M.failSearchText&&M.failSearchText.classList.add("visually-hidden");I();try{const e=await N(C);if(!e||!e.total_results)return f&&f.classList.add("visually-hidden"),M.failSearchText&&M.failSearchText.classList.remove("visually-hidden"),void(0,l.stopLoader)();c(e.results),g(e.page,e.total_pages),f&&f.classList.remove("visually-hidden"),(0,l.stopLoader)()}catch(e){console.error("Error searching movies:",e),(0,l.stopLoader)()}},700)),a("8Veln"),a("bx8wN"),a("23Ajj"),a("c01wF"),a("2NTPx"),a("cDXQO")}();
//# sourceMappingURL=index.1f6d2bb5.js.map
